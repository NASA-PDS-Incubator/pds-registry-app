<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/markdown/design/registry_trade_study.md at 2021-10-04
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>Registry Application &#x2013; Elasticsearch vs Solr</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://pds.nasa.gov" id="bannerLeft"><img src="../images/pds_banner.png"  alt="" width="500"/></a></div>
          <div class="pull-right"><a href="https://github.com/NASA-PDS/pds-registry-app" id="bannerRight"><h2>PDS Registry</h2>
</a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2021-10-04<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.0</li>
      <li class="pull-right"><a href="https://github.com/NASA-PDS/pds-registry-app" class="externalLink" title="Registry App Github Repo">Registry App Github Repo</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Software Documentation</li>
    <li><a href="../index.html" title="About PDS Registry Application"><span class="none"></span>About PDS Registry Application</a></li>
    <li><a href="../install/index.html" title="Installation"><span class="icon-chevron-down"></span>Installation</a>
     <ul class="nav nav-list">
      <li><a href="../install/java.html" title="Java"><span class="none"></span>Java</a></li>
      <li><a href="../install/es-dev.html" title="Elasticsearch - Quick Start"><span class="none"></span>Elasticsearch - Quick Start</a></li>
      <li><a href="../install/tools.html" title="Tools (Manager, Harvest)"><span class="none"></span>Tools (Manager, Harvest)</a></li>
      <li><a href="../install/api-server.html" title="API Server"><span class="none"></span>API Server</a></li>
      <li><a href="../install/test.html" title="Test your deployment"><span class="none"></span>Test your deployment</a></li>
     </ul></li>
    <li><a href="../operate/index.html" title="Operation"><span class="icon-chevron-down"></span>Operation</a>
     <ul class="nav nav-list">
      <li><a href="../operate/common-ops.html" title="Common Operations"><span class="none"></span>Common Operations</a></li>
      <li><a href="../operate/test-vs-prod.html" title="Test vs Prod"><span class="none"></span>Test vs Prod</a></li>
      <li><a href="../operate/harvest.html" title="Harvest"><span class="none"></span>Harvest</a></li>
      <li><a href="../operate/reg-manager.html" title="Registry Manager"><span class="none"></span>Registry Manager</a></li>
      <li><a href="../operate/supplementer.html" title="Supplementer"><span class="none"></span>Supplementer</a></li>
      <li><a href="../operate/reg-custom.html" title="Registry Customization"><span class="none"></span>Registry Customization</a></li>
     </ul></li>
    <li><a href="../prod/index.html" title="Production Deployment"><span class="icon-chevron-down"></span>Production Deployment</a>
     <ul class="nav nav-list">
      <li><a href="../prod/es-vm.html" title="Elasticsearch (VM)"><span class="none"></span>Elasticsearch (VM)</a></li>
     </ul></li>
    <li><a href="../security/index.html" title="Security"><span class="icon-chevron-down"></span>Security</a>
     <ul class="nav nav-list">
      <li><a href="../security/proxy.html" title="Load Balancer & Proxy"><span class="none"></span>Load Balancer & Proxy</a></li>
      <li><a href="../security/es.html" title="Elasticsearch"><span class="none"></span>Elasticsearch</a></li>
      <li><a href="../security/reg-mgr.html" title="Registry Manager"><span class="none"></span>Registry Manager</a></li>
     </ul></li>
    <li><a href="../index.html#Support" title="Support"><span class="none"></span>Support</a></li>
   <li class="nav-header">Downloads</li>
    <li><a href="https://github.com/NASA-PDS/pds-registry-app/releases/download/v1.0.0/pds-registry-app-1.0.0-bin.tar.gz" class="externalLink" title="Current Release (tar.gz)"><span class="none"></span>Current Release (tar.gz)</a></li>
    <li><a href="https://github.com/NASA-PDS/pds-registry-app/releases/download/v1.0.0/pds-registry-app-1.0.0-bin.zip" class="externalLink" title="Current Release (zip)"><span class="none"></span>Current Release (zip)</a></li>
    <li><a href="https://pds-engineering.jpl.nasa.gov/content/pds4-software" class="externalLink" title="Past Releases"><span class="none"></span>Past Releases</a></li>
   <li class="nav-header">Change Log</li>
    <li><a href="https://github.com/NASA-PDS/pds-registry-app/blob/main/CHANGELOG.md" class="externalLink" title="On Github"><span class="none"></span>On Github</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Elasticsearch vs Solr</h1>
<h1>Executive Summary</h1>
<p><b><i>Revised 08/2020</i></b></p>
<p><b>Selection: ElasticSearch</b></p>
<p><b>Rationale:</b></p>
<p><i>Overall, both Solr and Elasticsearch provide similar search functionality, however, there are some significant benefits to ES that prove it the champion:</i></p>
<ul>

<li>

<p><i><b>Third party apps</b> - There are significantly more robust third party apps compatible with ES, e.g.&#xa0;Kibana, Graphana. Solr has some, but they are not maintained very well and most have some issues.</i></p>
</li>
<li>

<p><i><b>AWS Support</b> - Spinning of ES in AWS is trivial and will save significant resources in the long run. Per discussions with IMG, trying to do the same with Solr is much more difficult and time consuming.</i></p>
</li>
<li>

<p><i><b>Documentation</b> - Documentation is significantly more detailed and robust for ES vs Solr. Will not only improve development, but will also simplify custom documentation needed.</i></p>
</li>
<li>

<p><i><b>Overall quality of the product</b> - ES is just overall a better software product. Between the documentation and comprehensive suite of tools and services, it is really worth the cost to refactor EN software to use ES.</i></p>
</li>
</ul>
<h1>Solr features used by PDS Registry and Harvest not available in Elasticsearch</h1>

<table border="0" class="table table-striped" style="width:97%;">
<colgroup>
<col style="width: 48%" />
<col style="width: 48%" />
</colgroup>
<thead>

<tr class="header">

<th><b>Solr</b></th>

<th><b>Elasticsearch (ES)</b></th>
</tr>
</thead>
<tbody>

<tr class="odd">

<td>
<p><b>Blob Store API</b>.</p>

<p>File upload / download. Version management.</p></td>

<td>ES supports binary fields, but we'll have to implement upload / download, version management, md5 hash calculation, etc.</td>
</tr>

<tr class="even">

<td>
<p><b>Post Tool.</b>&#xa0;</p>

<p>Command line tool for uploading various types of content to Solr.</p>

<p>Supported formats: XML, JSON, CSV, PDF, Word, etc.</p></td>

<td>Not available. Have to use bulk API to insert documents. Only JSON format is supported.</td>
</tr>

<tr class="odd">

<td><b>XML documents</b> (Harvest solr_doc.xml)</td>

<td>JSON format only.</td>
</tr>

<tr class="even">

<td><b>Search Protocol</b> (custom request handlers / plugins)</td>

<td>ES supports REST handler plugins, but unlike very simple Solr API, ES plugin API is very complex and undocumented.</td>
</tr>

<tr class="odd">

<td><b>Java API</b> (SolrJ)</td>

<td>Completely different APIs: Transport Client (deprecated), High Level REST Client (recommended).</td>
</tr>
</tbody>
</table>

<h1>License</h1>

<table border="0" class="table table-striped" style="width:97%;">
<colgroup>
<col style="width: 23%" />
<col style="width: 73%" />
</colgroup>
<thead>

<tr class="header">

<th><b>Solr</b></th>

<th><b>Elasticsearch (ES)</b></th>
</tr>
</thead>
<tbody>

<tr class="odd">

<td><b>Apache 2.0</b></td>

<td>
<p><b>Apache 2.0</b>: Basic / Limited features</p>

<p><b>Commercial</b>: Security, Monitoring, Elastic App Search (server, GUI, relevance model tuning).</p></td>
</tr>
</tbody>
</table>

<h1>Java API</h1>

<table border="0" class="table table-striped" style="width:96%;">
<colgroup>
<col style="width: 23%" />
<col style="width: 36%" />
<col style="width: 36%" />
</colgroup>
<thead>

<tr class="header">

<th></th>

<th><b>Solr</b></th>

<th><b>Elasticsearch (ES)</b></th>
</tr>
</thead>
<tbody>

<tr class="odd">

<td>Java Libraries</td>

<td>SolrJ</td>

<td>
<p>Transport Client - has been used for years, but deprecated in the latest ES version.</p>

<p>High Level REST Client - new recommended API. Similar to Transport Client.</p></td>
</tr>

<tr class="even">

<td>Dependencies</td>

<td>12 jars</td>

<td>40+ jars</td>
</tr>

<tr class="odd">

<td>Documentation</td>

<td>Very limited</td>

<td>Very good.</td>
</tr>

<tr class="even">

<td>Query Builder</td>

<td>No.&#xa0;As a workaround can use Lucene Query Builder.</td>

<td>Yes</td>
</tr>
</tbody>
</table>

<h1>Customization / Plugins</h1>

<table border="0" class="table table-striped" style="width:96%;">
<colgroup>
<col style="width: 23%" />
<col style="width: 36%" />
<col style="width: 36%" />
</colgroup>
<thead>

<tr class="header">

<th></th>

<th><b>Solr</b></th>

<th><b>Elasticsearch (ES)</b></th>
</tr>
</thead>
<tbody>

<tr class="odd">

<td>Summary</td>

<td>
<p>Very simple plugin API. Simple customization and configuration (few XML files).</p>

<p>Official Solr documentation is bad, but there are few books and online resources describing plugin development.</p>

<p>There are existing PDS plugins.</p></td>

<td>
<p>Very complex undocumented plugin API.</p>

<p>Plugins have to be rebuild for every new version of ES.</p>

<p>No one on the team has any experience with it.</p></td>
</tr>

<tr class="even">

<td>Customizations</td>

<td>
<p>Request processing:</p>

<ul class="incremental">

<li>
<p>Request handlers (search, query parsers)</p></li>

<li>
<p>Highlighting</p></li>

<li>
<p>Update Requests&#xa0;</p></li>

<li>
<p>Query Response writers</p></li>

<li>
<p>Similarity (scoring)</p></li>

<li>
<p>Cache Regenerator</p></li>
</ul>

<p>Fields:</p>

<ul class="incremental">

<li>
<p>Analyzer</p></li>

<li>
<p>Tokenizer and TokenFilter</p></li>

<li>
<p>FieldType</p></li>
</ul>

<p>Internals:</p>

<ul class="incremental">

<li>
<p>SolrCache</p></li>

<li>
<p>SolrEventListener</p></li>

<li>
<p>UpdateHandler</p></li>
</ul></td>

<td>
<ul class="incremental">

<li>
<p>Custom settings plugin</p></li>

<li>
<p>REST handler (Action plugin)</p></li>

<li>
<p>Search plugin (Rescore example)</p></li>

<li>
<p>Script plugin</p></li>
</ul>
It is very likely that other ES features can be also customized, but no more information is available.</td>
</tr>
</tbody>
</table>

<h1>Integrated Solutions</h1>

<table border="0" class="table table-striped" style="width:96%;">
<colgroup>
<col style="width: 31%" />
<col style="width: 31%" />
<col style="width: 31%" />
</colgroup>
<thead>

<tr class="header">

<th></th>

<th><b>Solr</b></th>

<th><b>Elasticsearch (ES)</b></th>
</tr>
</thead>
<tbody>

<tr class="odd">

<td>Big Data, Data Science</td>

<td>
<p><b>Cloudera + H ortonworks</b>&#xa0;(Merged in 2019)</p>

<p>Multiple products, commercial and open source. Big Data, Data Science, including Solr, Spark, Hadoop, HBase, Pig, Hive, Kafka, etc.</p>

<p><b>Datastax</b> (Solr + Cassandra database)&#xa0;</p></td>

<td>
<p><b>Science Data Analytics Platform (SDAP)</b> - Apache Incubator</p>

<p>SDAP has been developed collaboratively between NASA JPL, FSU, NCAR, and GMU</p></td>
</tr>

<tr class="even">

<td>DevOps (logs, metrics, visualization)</td>

<td>There are no integrated solutions, but Prometheus and Grafana plugins are available.</td>

<td><b>ELK</b> - Elasticsearch, Logstash, Kibana.</td>
</tr>

<tr class="odd">

<td>Semantic Web (search), Linked Data</td>

<td>Not available?</td>

<td>
<p><b>Science Data Analytics Platform (SDAP)</b></p>

<p><b>Apache Jena</b> - full text search in&#xa0;SPARQL</p></td>
</tr>
</tbody>
</table>

<h1>Metrics and Monitoring</h1>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th align="left"> <b>Solr</b>                                                                             </th>
<th align="left"> <b>Elasticsearch (ES)</b>               </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> Multiple metrics, registries and reporters. Integration with&#xa0;Prometheus and Grafana. </td>
<td align="left"> Requires X-Pack, Commercial license? </td></tr>
</tbody>
</table>
<h1>Support by Cloud Providers</h1>

<table border="0" class="table table-striped" style="width:96%;">
<colgroup>
<col style="width: 31%" />
<col style="width: 31%" />
<col style="width: 31%" />
</colgroup>
<thead>

<tr class="header">

<th></th>

<th><b>Solr</b></th>

<th><b>Elasticsearch (ES)</b></th>
</tr>
</thead>
<tbody>

<tr class="odd">

<td>Amazon AWS</td>

<td>
<ul class="incremental">

<li>
<p>AMI (Amazon Machine Image - VM)</p></li>

<li>
<p>Amazon EKS (Kubernetes container)</p></li>
</ul></td>

<td>
<p>ELK (Elasticsearch, Logstash, Kibana):</p>

<ul class="incremental">

<li>
<p>SaaS (Managed service)</p></li>

<li>
<p>AMI (VM)</p></li>

<li>
<p>Amazon EKS</p></li>
</ul></td>
</tr>

<tr class="even">

<td>Google Cloud Platform (GCP)</td>

<td>
<ul class="incremental">

<li>
<p>SaaS (SearchStax)</p></li>

<li>
<p>VM</p></li>
</ul></td>

<td>
<ul class="incremental">

<li>
<p>SaaS</p></li>

<li>
<p>VM</p></li>
</ul></td>
</tr>
</tbody>
</table>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2021<a href="https://pds.nasa.gov/">Planetary Data System</a>.
.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
